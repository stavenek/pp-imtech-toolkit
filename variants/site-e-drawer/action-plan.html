<!DOCTYPE html>
<html lang="sv" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Handlingsplan - Integral Teamwork Toolkit</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg-primary:#ffffff;--bg-secondary:#f5f5f7;--bg-tertiary:#ebebed;--bg-sidebar:#1d1d1f;--text-primary:#1d1d1f;--text-secondary:#86868b;--text-sidebar:#f5f5f7;--border:#d2d2d7;--border-light:#e8e8ed;--accent:#0071e3;--accent-hover:#0077ed;--accent-light:rgba(0,113,227,0.08);--success:#34c759;--warning:#ff9f0a;--error:#ff3b30;--space-xs:4px;--space-sm:8px;--space-md:16px;--space-lg:24px;--space-xl:32px;--space-2xl:48px;--radius-sm:8px;--radius-md:12px;--radius-lg:16px;--radius-xl:20px;--radius-full:9999px;--shadow-sm:0 1px 3px rgba(0,0,0,0.06);--shadow-md:0 4px 16px rgba(0,0,0,0.08);--shadow-drawer:-4px 0 24px rgba(0,0,0,0.1);--sidebar-width:68px;--font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display','Segoe UI',Roboto,sans-serif}
[data-theme="dark"]{--bg-primary:#1c1c1e;--bg-secondary:#2c2c2e;--bg-tertiary:#3a3a3c;--bg-sidebar:#000000;--text-primary:#f5f5f7;--text-secondary:#98989d;--border:#48484a;--border-light:#38383a;--accent:#0a84ff;--accent-hover:#409cff}
body{font-family:var(--font-family);background:var(--bg-secondary);color:var(--text-primary);line-height:1.5;display:flex;min-height:100vh}
a{color:inherit;text-decoration:none}
.skip-link{position:absolute;top:-100%;left:var(--space-md);background:var(--accent);color:#fff;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-full);z-index:1000;font-size:14px;transition:top 0.2s ease}
.skip-link:focus{top:var(--space-md)}
.sidebar{width:var(--sidebar-width);min-height:100vh;background:var(--bg-sidebar);display:flex;flex-direction:column;align-items:center;padding:var(--space-md) 0;position:fixed;top:0;left:0;z-index:100}
.sidebar-logo{width:36px;height:36px;background:var(--accent);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;margin-bottom:var(--space-lg)}
.sidebar-logo svg{width:20px;height:20px;fill:#fff}
.sidebar-nav{display:flex;flex-direction:column;gap:var(--space-xs);flex:1;width:100%;padding:0 var(--space-sm)}
.sidebar-nav a{width:52px;height:52px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);transition:background 0.2s ease,opacity 0.2s ease;opacity:0.4;position:relative;margin:0 auto}
.sidebar-nav a:hover,.sidebar-nav a:focus-visible{opacity:0.7;background:rgba(255,255,255,0.08)}
.sidebar-nav a.active{opacity:1;background:rgba(255,255,255,0.12)}
.sidebar-nav a svg{width:22px;height:22px;fill:var(--text-sidebar)}
.sidebar-nav a .tooltip{position:absolute;left:calc(100% + 12px);top:50%;transform:translateY(-50%);background:var(--bg-primary);color:var(--text-primary);padding:6px 12px;border-radius:var(--radius-sm);font-size:13px;white-space:nowrap;box-shadow:var(--shadow-md);opacity:0;pointer-events:none;transition:opacity 0.2s ease;z-index:200}
.sidebar-nav a:hover .tooltip,.sidebar-nav a:focus-visible .tooltip{opacity:1}
.sidebar-bottom{padding:var(--space-sm);width:100%;display:flex;flex-direction:column;align-items:center;gap:var(--space-sm)}
.theme-toggle{width:44px;height:44px;display:flex;align-items:center;justify-content:center;border:none;background:rgba(255,255,255,0.08);border-radius:var(--radius-md);cursor:pointer;transition:background 0.2s ease}
.theme-toggle:hover{background:rgba(255,255,255,0.15)}
.theme-toggle svg{width:20px;height:20px;fill:var(--text-sidebar)}

.layout{margin-left:var(--sidebar-width);flex:1;display:flex;min-height:100vh}
.main-content{flex:1;padding:var(--space-xl) var(--space-2xl);overflow-x:auto}
.page-header{margin-bottom:var(--space-lg);display:flex;align-items:flex-start;justify-content:space-between}
.page-header div h1{font-size:28px;font-weight:700;letter-spacing:-0.5px;margin-bottom:var(--space-xs)}
.page-header div p{color:var(--text-secondary);font-size:15px}
.pill-btn{display:inline-flex;align-items:center;gap:var(--space-sm);padding:10px 20px;border-radius:var(--radius-full);background:var(--accent);color:#fff;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:background 0.2s ease,transform 0.1s ease;font-family:var(--font-family);min-height:44px}
.pill-btn:hover{background:var(--accent-hover)}
.pill-btn:active{transform:scale(0.98)}
.pill-btn.secondary{background:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border)}
.pill-btn.secondary:hover{background:var(--bg-secondary)}
.pill-btn svg{width:16px;height:16px;fill:currentColor}
.pill-btn.sm{padding:6px 14px;font-size:13px;min-height:36px}

/* Filter Pills */
.filter-bar{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-lg);flex-wrap:wrap}
.filter-pill{padding:8px 16px;border-radius:var(--radius-full);background:var(--bg-primary);border:1px solid var(--border);color:var(--text-secondary);font-size:13px;font-weight:500;cursor:pointer;transition:all 0.2s ease;font-family:var(--font-family);min-height:36px}
.filter-pill:hover{border-color:var(--accent);color:var(--accent)}
.filter-pill.active{background:var(--accent);color:#fff;border-color:var(--accent)}

/* Table */
.table-wrap{background:var(--bg-primary);border-radius:var(--radius-lg);border:1px solid var(--border-light);overflow:hidden;margin-bottom:var(--space-xl)}
table{width:100%;border-collapse:collapse}
thead th{background:var(--bg-secondary);padding:var(--space-sm) var(--space-md);font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-secondary);text-align:left;border-bottom:1px solid var(--border-light)}
tbody tr{border-bottom:1px solid var(--border-light);cursor:pointer;transition:background 0.15s ease}
tbody tr:last-child{border-bottom:none}
tbody tr:hover{background:var(--accent-light)}
tbody tr.selected{background:var(--accent-light);border-left:3px solid var(--accent)}
tbody td{padding:var(--space-md);font-size:14px;vertical-align:middle}
.status-chip{display:inline-block;padding:4px 12px;border-radius:var(--radius-full);font-size:12px;font-weight:500}
.status-chip.active{background:var(--accent-light);color:var(--accent)}
.status-chip.done{background:rgba(52,199,89,0.1);color:var(--success)}
.status-chip.paused{background:rgba(255,159,10,0.1);color:var(--warning)}
.status-chip.idea{background:var(--bg-tertiary);color:var(--text-secondary)}

/* Collapsible */
.collapsible{margin-bottom:var(--space-lg)}
.collapsible-header{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-md) 0;cursor:pointer;font-size:16px;font-weight:600;user-select:none}
.collapsible-header svg{width:20px;height:20px;fill:var(--text-secondary);transition:transform 0.2s ease}
.collapsible-header.open svg{transform:rotate(90deg)}
.collapsible-body{display:none}
.collapsible-body.open{display:block}

/* Drawer */
.drawer-overlay{position:fixed;top:0;right:0;bottom:0;left:var(--sidebar-width);background:rgba(0,0,0,0.2);z-index:50;opacity:0;pointer-events:none;transition:opacity 0.3s ease}
.drawer-overlay.open{opacity:1;pointer-events:auto}
.drawer{position:fixed;top:0;right:0;width:500px;height:100vh;background:var(--bg-primary);box-shadow:var(--shadow-drawer);z-index:60;transform:translateX(100%);transition:transform 0.3s ease;display:flex;flex-direction:column;overflow:hidden}
.drawer.open{transform:translateX(0)}
.drawer-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-lg);border-bottom:1px solid var(--border-light)}
.drawer-header h2{font-size:18px;font-weight:600}
.drawer-close{width:44px;height:44px;display:flex;align-items:center;justify-content:center;border:none;background:var(--bg-secondary);border-radius:50%;cursor:pointer;transition:background 0.2s ease}
.drawer-close:hover{background:var(--bg-tertiary)}
.drawer-close svg{width:18px;height:18px;fill:var(--text-primary)}
.drawer-body{flex:1;padding:var(--space-lg);overflow-y:auto}
.drawer-footer{padding:var(--space-md) var(--space-lg);border-top:1px solid var(--border-light);display:flex;gap:var(--space-sm);justify-content:flex-end}
.form-field{margin-bottom:var(--space-lg)}
.form-field label{display:block;font-size:13px;font-weight:600;color:var(--text-secondary);margin-bottom:var(--space-sm);text-transform:uppercase;letter-spacing:0.5px}
.form-field input,.form-field textarea,.form-field select{width:100%;padding:var(--space-sm) var(--space-md);border:1px solid var(--border);border-radius:var(--radius-md);font-family:var(--font-family);font-size:15px;color:var(--text-primary);background:var(--bg-primary);min-height:44px;transition:border-color 0.2s ease}
.form-field textarea{min-height:80px;resize:vertical;line-height:1.6}
.form-field input:focus,.form-field textarea:focus,.form-field select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-light)}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}
</style>
</head>
<body>

<a href="#main" class="skip-link">Hoppa till huvudinneh&aring;ll</a>

<nav class="sidebar" aria-label="Huvudnavigering">
  <div class="sidebar-logo" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg></div>
  <div class="sidebar-nav" role="list">
    <a href="index.html" role="listitem" aria-label="Dashboard"><svg viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg><span class="tooltip">Dashboard</span></a>
    <a href="agenda.html" role="listitem" aria-label="Agenda"><svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/></svg><span class="tooltip">Agenda</span></a>
    <a href="strategic.html" role="listitem" aria-label="Strategiskt resonemang"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg><span class="tooltip">Strategiskt resonemang</span></a>
    <a href="desired-state.html" role="listitem" aria-label="&Ouml;nskat l&auml;ge"><svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg><span class="tooltip">&Ouml;nskat l&auml;ge</span></a>
    <a href="goals-metrics.html" role="listitem" aria-label="M&aring;l &amp; M&auml;tetal"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg><span class="tooltip">M&aring;l &amp; M&auml;tetal</span></a>
    <a href="action-plan.html" class="active" role="listitem" aria-label="Handlingsplan" aria-current="page"><svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13zM7 13h10v2H7v-2zm0 4h7v2H7v-2z"/></svg><span class="tooltip">Handlingsplan</span></a>
    <a href="documents.html" role="listitem" aria-label="Dokument"><svg viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg><span class="tooltip">Dokument</span></a>
    <a href="attendance.html" role="listitem" aria-label="N&auml;rvaro"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg><span class="tooltip">N&auml;rvaro</span></a>
    <a href="reflections.html" role="listitem" aria-label="Reflektioner"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg><span class="tooltip">Reflektioner</span></a>
    <a href="newsflash.html" role="listitem" aria-label="Nyheter"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"/></svg><span class="tooltip">Nyheter</span></a>
    <a href="admin.html" role="listitem" aria-label="Admin"><svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.49.49 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.49.49 0 00-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg><span class="tooltip">Admin</span></a>
  </div>
  <div class="sidebar-bottom"><button class="theme-toggle" onclick="toggleTheme()" aria-label="V&auml;xla tema"><svg viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1z"/></svg></button></div>
</nav>

<div class="layout">
  <main class="main-content" id="main">
    <header class="page-header">
      <div>
        <h1>Handlingsplan</h1>
        <p>&Aring;tg&auml;rder, ansvariga och deadlines &mdash; klicka p&aring; en rad f&ouml;r att redigera</p>
      </div>
      <button class="pill-btn" onclick="openNewAction()">
        <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
        Ny &aring;tg&auml;rd
      </button>
    </header>

    <!-- Filter pills -->
    <div class="filter-bar">
      <button class="filter-pill active" onclick="filterActions(this, 'all')">Alla</button>
      <button class="filter-pill" onclick="filterActions(this, 'active')">P&aring;g&aring;ende</button>
      <button class="filter-pill" onclick="filterActions(this, 'done')">Slutf&ouml;rda</button>
      <button class="filter-pill" onclick="filterActions(this, 'paused')">Pausade</button>
    </div>

    <!-- Active Actions -->
    <div class="table-wrap">
      <table>
        <thead>
          <tr>
            <th>&Aring;tg&auml;rd</th>
            <th>Ansvarig</th>
            <th>Deadline</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr onclick="openDrawer(this, 'action-1')" data-status="active">
            <td><strong>F&ouml;rb&auml;ttra onboarding-process</strong></td>
            <td>Anna Karlsson</td>
            <td>15 feb 2026</td>
            <td><span class="status-chip active">P&aring;g&aring;ende</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'action-2')" data-status="active">
            <td><strong>Implementera kundenkät</strong></td>
            <td>Erik Lindqvist</td>
            <td>28 feb 2026</td>
            <td><span class="status-chip active">P&aring;g&aring;ende</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'action-3')" data-status="paused">
            <td><strong>Uppdatera intern dokumentation</strong></td>
            <td>Maria Svensson</td>
            <td>1 mar 2026</td>
            <td><span class="status-chip paused">Pausad</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'action-4')" data-status="active">
            <td><strong>Veckovis kunskapsdelning</strong></td>
            <td>Johan Persson</td>
            <td>Löpande</td>
            <td><span class="status-chip active">P&aring;g&aring;ende</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'action-5')" data-status="done">
            <td><strong>Sätta upp teamets m&aring;l f&ouml;r Q1</strong></td>
            <td>Anna Karlsson</td>
            <td>10 jan 2026</td>
            <td><span class="status-chip done">Klar</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'action-6')" data-status="done">
            <td><strong>Boka konferenslokal f&ouml;r workshop</strong></td>
            <td>Sofia Nilsson</td>
            <td>5 jan 2026</td>
            <td><span class="status-chip done">Klar</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Collapsible: Completed -->
    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
        Slutf&ouml;rda &aring;tg&auml;rder (12)
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <tbody>
              <tr><td><strong>Genomföra teamworkshop</strong></td><td>Anna K.</td><td>20 dec 2025</td><td><span class="status-chip done">Klar</span></td></tr>
              <tr><td><strong>Installera projektverktyg</strong></td><td>Erik L.</td><td>15 dec 2025</td><td><span class="status-chip done">Klar</span></td></tr>
              <tr><td><strong>Definiera teamregler</strong></td><td>Alla</td><td>10 dec 2025</td><td><span class="status-chip done">Klar</span></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Collapsible: Ideas Log -->
    <div class="collapsible">
      <div class="collapsible-header" onclick="toggleCollapse(this)">
        <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
        Id&eacute;logg (5)
      </div>
      <div class="collapsible-body">
        <div class="table-wrap">
          <table>
            <tbody>
              <tr><td><strong>Extern mentorprogram</strong></td><td colspan="2">F&ouml;resl&aring;s av Maria S.</td><td><span class="status-chip idea">Id&eacute;</span></td></tr>
              <tr><td><strong>Teambuilding-dag utomhus</strong></td><td colspan="2">F&ouml;resl&aring;s av Johan P.</td><td><span class="status-chip idea">Id&eacute;</span></td></tr>
              <tr><td><strong>Automatisera rapportering</strong></td><td colspan="2">F&ouml;resl&aring;s av Erik L.</td><td><span class="status-chip idea">Id&eacute;</span></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
</div>

<div class="drawer-overlay" id="drawerOverlay" onclick="closeDrawer()"></div>
<aside class="drawer" id="drawer" role="dialog" aria-label="Redigera &aring;tg&auml;rd">
  <div class="drawer-header">
    <h2 id="drawerTitle">&Aring;tg&auml;rd</h2>
    <button class="drawer-close" onclick="closeDrawer()" aria-label="St&auml;ng panel"><svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button>
  </div>
  <div class="drawer-body" id="drawerBody"></div>
  <div class="drawer-footer">
    <button class="pill-btn secondary" onclick="closeDrawer()">Avbryt</button>
    <button class="pill-btn" onclick="closeDrawer()">
      <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
      Spara
    </button>
  </div>
</aside>

<script>
const actionData = {
  'action-1': {title:'F&ouml;rb&auml;ttra onboarding-process', responsible:'Anna Karlsson', deadline:'2026-02-15', status:'active', desc:'Skapa en strukturerad onboarding-process f&ouml;r nya teammedlemmar med checklista och introduktionsmaterial.'},
  'action-2': {title:'Implementera kundenkät', responsible:'Erik Lindqvist', deadline:'2026-02-28', status:'active', desc:'Utveckla och distribuera en kundnöjdhetsenkät (NPS) som skickas ut kvartalsvis.'},
  'action-3': {title:'Uppdatera intern dokumentation', responsible:'Maria Svensson', deadline:'2026-03-01', status:'paused', desc:'G&aring; igenom och uppdatera all intern dokumentation s&aring; att den &auml;r aktuell och tillg&auml;nglig.'},
  'action-4': {title:'Veckovis kunskapsdelning', responsible:'Johan Persson', deadline:'', status:'active', desc:'Organisera veckovisa sessioner d&auml;r teammedlemmar delar kunskap och l&auml;rdomar.'},
  'action-5': {title:'Sätta upp teamets m&aring;l f&ouml;r Q1', responsible:'Anna Karlsson', deadline:'2026-01-10', status:'done', desc:'Definiera och kommunicera teamets m&aring;l f&ouml;r f&ouml;rsta kvartalet 2026.'},
  'action-6': {title:'Boka konferenslokal f&ouml;r workshop', responsible:'Sofia Nilsson', deadline:'2026-01-05', status:'done', desc:'S&auml;kerst&auml;ll att en l&auml;mplig lokal &auml;r bokad f&ouml;r den planerade teamworkshopen.'}
};

let currentRow = null;

function openDrawer(el, id) {
  const d = actionData[id];
  if (!d) return;
  document.querySelectorAll('tbody tr').forEach(r=>r.classList.remove('selected'));
  el.classList.add('selected');
  currentRow = el;
  document.getElementById('drawerTitle').innerHTML = 'Redigera &aring;tg&auml;rd';
  document.getElementById('drawerBody').innerHTML = `
    <div class="form-field"><label for="actionName">&Aring;tg&auml;rd</label><input type="text" id="actionName" value="${d.title}"></div>
    <div class="form-field"><label for="actionDesc">Beskrivning</label><textarea id="actionDesc">${d.desc}</textarea></div>
    <div class="form-row">
      <div class="form-field"><label for="actionResp">Ansvarig</label><input type="text" id="actionResp" value="${d.responsible}"></div>
      <div class="form-field"><label for="actionDeadline">Deadline</label><input type="date" id="actionDeadline" value="${d.deadline}"></div>
    </div>
    <div class="form-field"><label for="actionStatus">Status</label>
      <select id="actionStatus">
        <option value="active" ${d.status==='active'?'selected':''}>P&aring;g&aring;ende</option>
        <option value="done" ${d.status==='done'?'selected':''}>Klar</option>
        <option value="paused" ${d.status==='paused'?'selected':''}>Pausad</option>
      </select>
    </div>
  `;
  document.getElementById('drawer').classList.add('open');
  document.getElementById('drawerOverlay').classList.add('open');
}

function openNewAction() {
  document.querySelectorAll('tbody tr').forEach(r=>r.classList.remove('selected'));
  document.getElementById('drawerTitle').innerHTML = 'Ny &aring;tg&auml;rd';
  document.getElementById('drawerBody').innerHTML = `
    <div class="form-field"><label for="actionName">&Aring;tg&auml;rd</label><input type="text" id="actionName" placeholder="Beskriv &aring;tg&auml;rden..."></div>
    <div class="form-field"><label for="actionDesc">Beskrivning</label><textarea id="actionDesc" placeholder="Mer detaljer..."></textarea></div>
    <div class="form-row">
      <div class="form-field"><label for="actionResp">Ansvarig</label><input type="text" id="actionResp" placeholder="V&auml;lj person"></div>
      <div class="form-field"><label for="actionDeadline">Deadline</label><input type="date" id="actionDeadline"></div>
    </div>
    <div class="form-field"><label for="actionStatus">Status</label>
      <select id="actionStatus"><option value="active">P&aring;g&aring;ende</option><option value="paused">Pausad</option></select>
    </div>
  `;
  document.getElementById('drawer').classList.add('open');
  document.getElementById('drawerOverlay').classList.add('open');
}

function closeDrawer(){document.getElementById('drawer').classList.remove('open');document.getElementById('drawerOverlay').classList.remove('open');if(currentRow)currentRow.classList.remove('selected');currentRow=null}
document.addEventListener('keydown',function(e){if(e.key==='Escape')closeDrawer()});

function filterActions(btn, status) {
  document.querySelectorAll('.filter-pill').forEach(p=>p.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('tbody tr[data-status]').forEach(row => {
    row.style.display = (status === 'all' || row.dataset.status === status) ? '' : 'none';
  });
}

function toggleCollapse(header) {
  header.classList.toggle('open');
  const body = header.nextElementSibling;
  body.classList.toggle('open');
}

function toggleTheme(){const h=document.documentElement;h.setAttribute('data-theme',h.getAttribute('data-theme')==='dark'?'light':'dark')}
</script>
</body>
</html>

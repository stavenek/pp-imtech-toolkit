<!DOCTYPE html>
<html lang="sv" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mål &amp; Mätetal - Integral Teamwork Toolkit</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg-primary:#ffffff;--bg-secondary:#f5f5f7;--bg-tertiary:#ebebed;--bg-sidebar:#1d1d1f;--text-primary:#1d1d1f;--text-secondary:#86868b;--text-sidebar:#f5f5f7;--border:#d2d2d7;--border-light:#e8e8ed;--accent:#0071e3;--accent-hover:#0077ed;--accent-light:rgba(0,113,227,0.08);--success:#34c759;--warning:#ff9f0a;--error:#ff3b30;--space-xs:4px;--space-sm:8px;--space-md:16px;--space-lg:24px;--space-xl:32px;--space-2xl:48px;--radius-sm:8px;--radius-md:12px;--radius-lg:16px;--radius-xl:20px;--radius-full:9999px;--shadow-sm:0 1px 3px rgba(0,0,0,0.06);--shadow-md:0 4px 16px rgba(0,0,0,0.08);--shadow-drawer:-4px 0 24px rgba(0,0,0,0.1);--sidebar-width:68px;--font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display','Segoe UI',Roboto,sans-serif}
[data-theme="dark"]{--bg-primary:#1c1c1e;--bg-secondary:#2c2c2e;--bg-tertiary:#3a3a3c;--bg-sidebar:#000000;--text-primary:#f5f5f7;--text-secondary:#98989d;--border:#48484a;--border-light:#38383a;--accent:#0a84ff;--accent-hover:#409cff}
body{font-family:var(--font-family);background:var(--bg-secondary);color:var(--text-primary);line-height:1.5;display:flex;min-height:100vh}
a{color:inherit;text-decoration:none}
.skip-link{position:absolute;top:-100%;left:var(--space-md);background:var(--accent);color:#fff;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-full);z-index:1000;font-size:14px;transition:top 0.2s ease}
.skip-link:focus{top:var(--space-md)}
.sidebar{width:var(--sidebar-width);min-height:100vh;background:var(--bg-sidebar);display:flex;flex-direction:column;align-items:center;padding:var(--space-md) 0;position:fixed;top:0;left:0;z-index:100}
.sidebar-logo{width:36px;height:36px;background:var(--accent);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;margin-bottom:var(--space-lg)}
.sidebar-logo svg{width:20px;height:20px;fill:#fff}
.sidebar-nav{display:flex;flex-direction:column;gap:var(--space-xs);flex:1;width:100%;padding:0 var(--space-sm)}
.sidebar-nav a{width:52px;height:52px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);transition:background 0.2s ease,opacity 0.2s ease;opacity:0.4;position:relative;margin:0 auto}
.sidebar-nav a:hover,.sidebar-nav a:focus-visible{opacity:0.7;background:rgba(255,255,255,0.08)}
.sidebar-nav a.active{opacity:1;background:rgba(255,255,255,0.12)}
.sidebar-nav a svg{width:22px;height:22px;fill:var(--text-sidebar)}
.sidebar-nav a .tooltip{position:absolute;left:calc(100% + 12px);top:50%;transform:translateY(-50%);background:var(--bg-primary);color:var(--text-primary);padding:6px 12px;border-radius:var(--radius-sm);font-size:13px;white-space:nowrap;box-shadow:var(--shadow-md);opacity:0;pointer-events:none;transition:opacity 0.2s ease;z-index:200}
.sidebar-nav a:hover .tooltip,.sidebar-nav a:focus-visible .tooltip{opacity:1}
.sidebar-bottom{padding:var(--space-sm);width:100%;display:flex;flex-direction:column;align-items:center;gap:var(--space-sm)}
.theme-toggle{width:44px;height:44px;display:flex;align-items:center;justify-content:center;border:none;background:rgba(255,255,255,0.08);border-radius:var(--radius-md);cursor:pointer;transition:background 0.2s ease}
.theme-toggle:hover{background:rgba(255,255,255,0.15)}
.theme-toggle svg{width:20px;height:20px;fill:var(--text-sidebar)}

.layout{margin-left:var(--sidebar-width);flex:1;display:flex;min-height:100vh}
.main-content{flex:1;padding:var(--space-xl) var(--space-2xl);overflow-x:auto}
.page-header{margin-bottom:var(--space-xl);display:flex;align-items:flex-start;justify-content:space-between}
.page-header div h1{font-size:28px;font-weight:700;letter-spacing:-0.5px;margin-bottom:var(--space-xs)}
.page-header div p{color:var(--text-secondary);font-size:15px}
.pill-btn{display:inline-flex;align-items:center;gap:var(--space-sm);padding:10px 20px;border-radius:var(--radius-full);background:var(--accent);color:#fff;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:background 0.2s ease,transform 0.1s ease;font-family:var(--font-family);min-height:44px}
.pill-btn:hover{background:var(--accent-hover)}
.pill-btn:active{transform:scale(0.98)}
.pill-btn.secondary{background:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border)}
.pill-btn.secondary:hover{background:var(--bg-secondary)}
.pill-btn svg{width:16px;height:16px;fill:currentColor}

/* PDCA Table */
.pdca-table-wrap{background:var(--bg-primary);border-radius:var(--radius-lg);border:1px solid var(--border-light);overflow:hidden;margin-bottom:var(--space-xl)}
table{width:100%;border-collapse:collapse}
thead th{background:var(--bg-secondary);padding:var(--space-sm) var(--space-md);font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-secondary);text-align:left;border-bottom:1px solid var(--border-light)}
tbody tr{border-bottom:1px solid var(--border-light);cursor:pointer;transition:background 0.15s ease}
tbody tr:last-child{border-bottom:none}
tbody tr:hover{background:var(--accent-light)}
tbody tr.selected{background:var(--accent-light);border-left:3px solid var(--accent)}
tbody td{padding:var(--space-md);font-size:14px;vertical-align:middle}
.progress-bar{height:6px;background:var(--bg-tertiary);border-radius:var(--radius-full);overflow:hidden;min-width:80px}
.progress-bar .fill{height:100%;border-radius:var(--radius-full);transition:width 0.3s ease}
.fill.blue{background:var(--accent)}
.fill.green{background:var(--success)}
.fill.orange{background:var(--warning)}
.status-chip{display:inline-block;padding:4px 12px;border-radius:var(--radius-full);font-size:12px;font-weight:500}
.status-chip.on-track{background:rgba(52,199,89,0.1);color:var(--success)}
.status-chip.at-risk{background:rgba(255,159,10,0.1);color:var(--warning)}
.status-chip.behind{background:rgba(255,59,48,0.1);color:var(--error)}

/* Chart placeholder */
.chart-area{background:var(--bg-primary);border-radius:var(--radius-lg);border:1px solid var(--border-light);padding:var(--space-xl);text-align:center}
.chart-placeholder{height:200px;background:var(--bg-secondary);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;color:var(--text-secondary);font-size:14px}
.chart-area h3{font-size:16px;font-weight:600;margin-bottom:var(--space-md);text-align:left}

/* Drawer */
.drawer-overlay{position:fixed;top:0;right:0;bottom:0;left:var(--sidebar-width);background:rgba(0,0,0,0.2);z-index:50;opacity:0;pointer-events:none;transition:opacity 0.3s ease}
.drawer-overlay.open{opacity:1;pointer-events:auto}
.drawer{position:fixed;top:0;right:0;width:500px;height:100vh;background:var(--bg-primary);box-shadow:var(--shadow-drawer);z-index:60;transform:translateX(100%);transition:transform 0.3s ease;display:flex;flex-direction:column;overflow:hidden}
.drawer.open{transform:translateX(0)}
.drawer-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-lg);border-bottom:1px solid var(--border-light)}
.drawer-header h2{font-size:18px;font-weight:600}
.drawer-close{width:44px;height:44px;display:flex;align-items:center;justify-content:center;border:none;background:var(--bg-secondary);border-radius:50%;cursor:pointer;transition:background 0.2s ease}
.drawer-close:hover{background:var(--bg-tertiary)}
.drawer-close svg{width:18px;height:18px;fill:var(--text-primary)}
.drawer-body{flex:1;padding:var(--space-lg);overflow-y:auto}
.drawer-footer{padding:var(--space-md) var(--space-lg);border-top:1px solid var(--border-light);display:flex;gap:var(--space-sm);justify-content:flex-end}
.form-field{margin-bottom:var(--space-lg)}
.form-field label{display:block;font-size:13px;font-weight:600;color:var(--text-secondary);margin-bottom:var(--space-sm);text-transform:uppercase;letter-spacing:0.5px}
.form-field input,.form-field textarea,.form-field select{width:100%;padding:var(--space-sm) var(--space-md);border:1px solid var(--border);border-radius:var(--radius-md);font-family:var(--font-family);font-size:15px;color:var(--text-primary);background:var(--bg-primary);min-height:44px;transition:border-color 0.2s ease}
.form-field textarea{min-height:100px;resize:vertical;line-height:1.6}
.form-field input:focus,.form-field textarea:focus,.form-field select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-light)}

.progress-display{display:flex;align-items:center;gap:var(--space-md);margin-top:var(--space-sm)}
.progress-display .value{font-size:28px;font-weight:700;letter-spacing:-1px}
.progress-display .max{font-size:16px;color:var(--text-secondary)}
.progress-display .bar{flex:1}

.metric-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md);margin-top:var(--space-sm)}
.metric-item{background:var(--bg-secondary);padding:var(--space-md);border-radius:var(--radius-md)}
.metric-item .label{font-size:12px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:0.5px}
.metric-item .val{font-size:20px;font-weight:600;margin-top:4px}
</style>
</head>
<body>

<a href="#main" class="skip-link">Hoppa till huvudinneh&aring;ll</a>

<nav class="sidebar" aria-label="Huvudnavigering">
  <div class="sidebar-logo" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg></div>
  <div class="sidebar-nav" role="list">
    <a href="index.html" role="listitem" aria-label="Dashboard"><svg viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg><span class="tooltip">Dashboard</span></a>
    <a href="agenda.html" role="listitem" aria-label="Agenda"><svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/></svg><span class="tooltip">Agenda</span></a>
    <a href="strategic.html" role="listitem" aria-label="Strategiskt resonemang"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg><span class="tooltip">Strategiskt resonemang</span></a>
    <a href="desired-state.html" role="listitem" aria-label="&Ouml;nskat l&auml;ge"><svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg><span class="tooltip">&Ouml;nskat l&auml;ge</span></a>
    <a href="goals-metrics.html" class="active" role="listitem" aria-label="M&aring;l &amp; M&auml;tetal" aria-current="page"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg><span class="tooltip">M&aring;l &amp; M&auml;tetal</span></a>
    <a href="action-plan.html" role="listitem" aria-label="Handlingsplan"><svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13zM7 13h10v2H7v-2zm0 4h7v2H7v-2z"/></svg><span class="tooltip">Handlingsplan</span></a>
    <a href="documents.html" role="listitem" aria-label="Dokument"><svg viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg><span class="tooltip">Dokument</span></a>
    <a href="attendance.html" role="listitem" aria-label="N&auml;rvaro"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg><span class="tooltip">N&auml;rvaro</span></a>
    <a href="reflections.html" role="listitem" aria-label="Reflektioner"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg><span class="tooltip">Reflektioner</span></a>
    <a href="newsflash.html" role="listitem" aria-label="Nyheter"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"/></svg><span class="tooltip">Nyheter</span></a>
    <a href="admin.html" role="listitem" aria-label="Admin"><svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.49.49 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.49.49 0 00-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg><span class="tooltip">Admin</span></a>
  </div>
  <div class="sidebar-bottom"><button class="theme-toggle" onclick="toggleTheme()" aria-label="V&auml;xla tema"><svg viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1z"/></svg></button></div>
</nav>

<div class="layout">
  <main class="main-content" id="main">
    <header class="page-header">
      <div>
        <h1>M&aring;l &amp; M&auml;tetal</h1>
        <p>PDCA-tabell med b&auml;sta bidrag och m&auml;tetal &mdash; klicka p&aring; en rad f&ouml;r detaljer</p>
      </div>
    </header>

    <div class="pdca-table-wrap">
      <table>
        <thead>
          <tr>
            <th>B&auml;sta bidrag</th>
            <th>M&auml;tetal</th>
            <th>Nuv&auml;rde</th>
            <th>M&aring;l</th>
            <th>Framsteg</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr onclick="openDrawer(this, 'goal-1')">
            <td><strong>F&ouml;rb&auml;ttra kundkommunikation</strong></td>
            <td>Kundnöjdhet (NPS)</td>
            <td>55</td>
            <td>100</td>
            <td>
              <div class="progress-bar"><div class="fill blue" style="width:55%"></div></div>
            </td>
            <td><span class="status-chip on-track">P&aring; sp&aring;r</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'goal-2')">
            <td><strong>Minska ledtider i leverans</strong></td>
            <td>Leveranstid (dagar)</td>
            <td>35</td>
            <td>100</td>
            <td>
              <div class="progress-bar"><div class="fill orange" style="width:35%"></div></div>
            </td>
            <td><span class="status-chip at-risk">Risk</span></td>
          </tr>
          <tr onclick="openDrawer(this, 'goal-3')">
            <td><strong>&Ouml;ka intern kunskapsdelning</strong></td>
            <td>Kunskapsindex</td>
            <td>75</td>
            <td>100</td>
            <td>
              <div class="progress-bar"><div class="fill green" style="width:75%"></div></div>
            </td>
            <td><span class="status-chip on-track">P&aring; sp&aring;r</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="chart-area">
      <h3>Utveckling &ouml;ver tid</h3>
      <div class="chart-placeholder">
        <span>Diagramomr&aring;de &mdash; h&auml;r visas m&auml;tetalens utveckling &ouml;ver tid</span>
      </div>
    </div>
  </main>
</div>

<div class="drawer-overlay" id="drawerOverlay" onclick="closeDrawer()"></div>
<aside class="drawer" id="drawer" role="dialog" aria-label="Detaljer f&ouml;r b&auml;sta bidrag">
  <div class="drawer-header">
    <h2 id="drawerTitle">B&auml;sta bidrag</h2>
    <button class="drawer-close" onclick="closeDrawer()" aria-label="St&auml;ng panel"><svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button>
  </div>
  <div class="drawer-body" id="drawerBody"></div>
  <div class="drawer-footer">
    <button class="pill-btn secondary" onclick="closeDrawer()">Avbryt</button>
    <button class="pill-btn" onclick="closeDrawer()">
      <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
      Spara
    </button>
  </div>
</aside>

<script>
const goalData = {
  'goal-1': {
    title: 'F&ouml;rb&auml;ttra kundkommunikation',
    content: `
      <div class="form-field"><label>B&auml;sta bidrag</label><input type="text" value="F&ouml;rb&auml;ttra kundkommunikation"></div>
      <div class="form-field"><label>M&auml;tetal</label><input type="text" value="Kundnöjdhet (NPS)"></div>
      <div class="progress-display"><span class="value" style="color:var(--accent)">55</span><span class="max">/ 100</span><div class="bar"><div class="progress-bar"><div class="fill blue" style="width:55%"></div></div></div></div>
      <div class="metric-grid" style="margin-bottom:24px">
        <div class="metric-item"><div class="label">Startv&auml;rde</div><div class="val">30</div></div>
        <div class="metric-item"><div class="label">M&aring;lv&auml;rde</div><div class="val">100</div></div>
        <div class="metric-item"><div class="label">Nuvarande</div><div class="val">55</div></div>
        <div class="metric-item"><div class="label">Trend</div><div class="val" style="color:var(--success)">+8</div></div>
      </div>
      <div class="form-field"><label>Beskrivning</label><textarea>Genom att f&ouml;rb&auml;ttra v&aring;r kommunikation med kunder vill vi &ouml;ka deras upplevelse och lojalitet. Vi m&auml;ter detta genom NPS-enk&auml;ter varje kvartal.</textarea></div>
      <div class="form-field"><label>Ansvarig</label><input type="text" value="Anna Karlsson"></div>
    `
  },
  'goal-2': {
    title: 'Minska ledtider i leverans',
    content: `
      <div class="form-field"><label>B&auml;sta bidrag</label><input type="text" value="Minska ledtider i leverans"></div>
      <div class="form-field"><label>M&auml;tetal</label><input type="text" value="Leveranstid (dagar)"></div>
      <div class="progress-display"><span class="value" style="color:var(--warning)">35</span><span class="max">/ 100</span><div class="bar"><div class="progress-bar"><div class="fill orange" style="width:35%"></div></div></div></div>
      <div class="metric-grid" style="margin-bottom:24px">
        <div class="metric-item"><div class="label">Startv&auml;rde</div><div class="val">15</div></div>
        <div class="metric-item"><div class="label">M&aring;lv&auml;rde</div><div class="val">100</div></div>
        <div class="metric-item"><div class="label">Nuvarande</div><div class="val">35</div></div>
        <div class="metric-item"><div class="label">Trend</div><div class="val" style="color:var(--warning)">+3</div></div>
      </div>
      <div class="form-field"><label>Beskrivning</label><textarea>Vi beh&ouml;ver korta v&aring;ra ledtider f&ouml;r att kunna leverera snabbare till kunder. Just nu &auml;r detta omr&aring;de under risk och kr&auml;ver extra uppm&auml;rksamhet.</textarea></div>
      <div class="form-field"><label>Ansvarig</label><input type="text" value="Erik Lindqvist"></div>
    `
  },
  'goal-3': {
    title: '&Ouml;ka intern kunskapsdelning',
    content: `
      <div class="form-field"><label>B&auml;sta bidrag</label><input type="text" value="&Ouml;ka intern kunskapsdelning"></div>
      <div class="form-field"><label>M&auml;tetal</label><input type="text" value="Kunskapsindex"></div>
      <div class="progress-display"><span class="value" style="color:var(--success)">75</span><span class="max">/ 100</span><div class="bar"><div class="progress-bar"><div class="fill green" style="width:75%"></div></div></div></div>
      <div class="metric-grid" style="margin-bottom:24px">
        <div class="metric-item"><div class="label">Startv&auml;rde</div><div class="val">40</div></div>
        <div class="metric-item"><div class="label">M&aring;lv&auml;rde</div><div class="val">100</div></div>
        <div class="metric-item"><div class="label">Nuvarande</div><div class="val">75</div></div>
        <div class="metric-item"><div class="label">Trend</div><div class="val" style="color:var(--success)">+12</div></div>
      </div>
      <div class="form-field"><label>Beskrivning</label><textarea>Vi har infört regelbundna kunskapsdelningssessioner och en gemensam kunskapsbas. Indexet baseras p&aring; anv&auml;ndning och bidrag till den delade plattformen.</textarea></div>
      <div class="form-field"><label>Ansvarig</label><input type="text" value="Maria Svensson"></div>
    `
  }
};

let currentRow = null;

function openDrawer(el, id) {
  const data = goalData[id];
  if (!data) return;
  document.querySelectorAll('tbody tr').forEach(r => r.classList.remove('selected'));
  el.classList.add('selected');
  currentRow = el;
  document.getElementById('drawerTitle').innerHTML = data.title;
  document.getElementById('drawerBody').innerHTML = data.content;
  document.getElementById('drawer').classList.add('open');
  document.getElementById('drawerOverlay').classList.add('open');
}

function closeDrawer() {
  document.getElementById('drawer').classList.remove('open');
  document.getElementById('drawerOverlay').classList.remove('open');
  if (currentRow) currentRow.classList.remove('selected');
  currentRow = null;
}

document.addEventListener('keydown', function(e) { if (e.key === 'Escape') closeDrawer(); });
function toggleTheme(){const h=document.documentElement;h.setAttribute('data-theme',h.getAttribute('data-theme')==='dark'?'light':'dark')}
</script>
</body>
</html>
